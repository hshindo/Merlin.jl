<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Functions Â· Merlin.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="index.html"><img class="logo" src="assets/logo.png" alt="Merlin.jl logo"/></a><h1>Merlin.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="index.html">Home</a></li><li><a class="toctext" href="var.html">Var</a></li><li class="current"><a class="toctext" href="functions.html">Functions</a><ul class="internal"><li><a class="toctext" href="#Activation-1">Activation</a></li><li><a class="toctext" href="#Convolution-1">Convolution</a></li><li><a class="toctext" href="#Loss-1">Loss</a></li><li><a class="toctext" href="#Math-1">Math</a></li><li><a class="toctext" href="#Random-1">Random</a></li><li><a class="toctext" href="#Recurrent-1">Recurrent</a></li><li><a class="toctext" href="#Reduction-1">Reduction</a></li></ul></li><li><a class="toctext" href="graph.html">Graph</a></li><li><a class="toctext" href="initializers.html">Initializaters</a></li><li><a class="toctext" href="optimizers.html">Optimizers</a></li><li><a class="toctext" href="datasets.html">Datasets</a></li><li><a class="toctext" href="save_load.html">Save and Load</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href="functions.html">Functions</a></li></ul><a class="edit-page" href="https://github.com/hshindo/Merlin.jl/blob/master/docs/src/functions.md"><span class="fa">ï‚›</span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Functions</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Functions-1" href="#Functions-1">Functions</a></h1><ul><li><a href="functions.html#Merlin.BiLSTM"><code>Merlin.BiLSTM</code></a></li><li><a href="functions.html#Merlin.Conv1D"><code>Merlin.Conv1D</code></a></li><li><a href="functions.html#Merlin.LSTM"><code>Merlin.LSTM</code></a></li><li><a href="functions.html#Merlin.Linear"><code>Merlin.Linear</code></a></li><li><a href="functions.html#Base.:*"><code>Base.:*</code></a></li><li><a href="functions.html#Base.:+"><code>Base.:+</code></a></li><li><a href="functions.html#Base.:-"><code>Base.:-</code></a></li><li><a href="functions.html#Base.:/"><code>Base.:/</code></a></li><li><a href="functions.html#Base.:^"><code>Base.:^</code></a></li><li><a href="functions.html#Base.broadcast"><code>Base.broadcast</code></a></li><li><a href="functions.html#Base.getindex"><code>Base.getindex</code></a></li><li><a href="functions.html#Base.max"><code>Base.max</code></a></li><li><a href="functions.html#Base.reshape"><code>Base.reshape</code></a></li><li><a href="functions.html#Base.tanh"><code>Base.tanh</code></a></li><li><a href="functions.html#Base.transpose"><code>Base.transpose</code></a></li><li><a href="functions.html#Merlin.concat"><code>Merlin.concat</code></a></li><li><a href="functions.html#Merlin.crelu"><code>Merlin.crelu</code></a></li><li><a href="functions.html#Merlin.crossentropy"><code>Merlin.crossentropy</code></a></li><li><a href="functions.html#Merlin.dropout"><code>Merlin.dropout</code></a></li><li><a href="functions.html#Merlin.elu"><code>Merlin.elu</code></a></li><li><a href="functions.html#Merlin.logsoftmax"><code>Merlin.logsoftmax</code></a></li><li><a href="functions.html#Merlin.mse"><code>Merlin.mse</code></a></li><li><a href="functions.html#Merlin.relu"><code>Merlin.relu</code></a></li><li><a href="functions.html#Merlin.selu"><code>Merlin.selu</code></a></li><li><a href="functions.html#Merlin.sigmoid"><code>Merlin.sigmoid</code></a></li><li><a href="functions.html#Merlin.softmax"><code>Merlin.softmax</code></a></li><li><a href="functions.html#Merlin.softmax_crossentropy"><code>Merlin.softmax_crossentropy</code></a></li></ul><h2><a class="nav-anchor" id="Activation-1" href="#Activation-1">Activation</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.crelu" href="#Merlin.crelu"><code>Merlin.crelu</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">crelu(x)</code></pre><p>Concatenated Rectified Linear Unit. The output is twice the size of the input.</p><div>\[f(x) = (\max(0,x), \max(0,-x))\]</div></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/crelu.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.elu" href="#Merlin.elu"><code>Merlin.elu</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">elu(x)</code></pre><p>Exponential Linear Unit.</p><div>\[f(x) =
\begin{cases}
x &amp; x &gt; 0 \\
\alpha (e^{x}-1) &amp; x\leq0
\end{cases}\]</div></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/elu.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.relu" href="#Merlin.relu"><code>Merlin.relu</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">relu(x)</code></pre><p>Rectified Linear Unit.</p><div>\[f(x) = max(0, x)\]</div></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/relu.jl#L3-L10">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.selu" href="#Merlin.selu"><code>Merlin.selu</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">selu(x)</code></pre><p>Scaled Exponential Linear Unit.</p><div>\[f(x) = \lambda
\begin{cases}
x &amp; x &gt; 0 \\
\alpha e^{x}-\alpha &amp; x\leq0
\end{cases}\]</div><p><strong>References</strong></p><p>Klambauer et al., <a href="https://arxiv.org/abs/1706.02515">Self-Normalizing Neural Networks</a>, NIPS 2017</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/selu.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.sigmoid" href="#Merlin.sigmoid"><code>Merlin.sigmoid</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">sigmoid(x)</code></pre><p>Sigmoid logistic function.</p><div>\[f(x) = (1 + \exp(-x))^{-1}\]</div></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/sigmoid.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.tanh" href="#Base.tanh"><code>Base.tanh</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">tanh(x)</code></pre><p>Hyperbolic tangent function.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/activation/tanh.jl#L3">source</a></section><h2><a class="nav-anchor" id="Convolution-1" href="#Convolution-1">Convolution</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.Conv1D" href="#Merlin.Conv1D"><code>Merlin.Conv1D</code></a> â€” <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">Conv1D(T, ksize, insize, outsize, pad, stride; dilation=1, [init_w=Xavier()], [init_b=Zeros()])</code></pre><p>1-dimensional convolution function.</p><pre><code class="language-julia">x = Var(rand(Float32,10,5))
f = Conv1D(Float32, 5, 10, 3, 2, 1)
y = f(x)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/conv/conv1d.jl#L3">source</a></section><h2><a class="nav-anchor" id="Loss-1" href="#Loss-1">Loss</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.crossentropy" href="#Merlin.crossentropy"><code>Merlin.crossentropy</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">crossentropy(p, q)</code></pre><p>Cross-entropy function between p and q.</p><div>\[f(x) = -\sum_{x} p(x) \log q(x)\]</div><ul><li><p>p::Var: <code>Var</code> of Vector{Int} or Matrix{Float}. If p is <code>Vector{Int}</code> and p[i] == 0, returns 0.</p></li><li><p>q::Var: <code>Var</code> of Matrix{Float}</p></li></ul><pre><code class="language-julia">p = Var(rand(0:10,5))
q = softmax(Var(rand(Float32,10,5)))
y = crossentropy(p, q)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/loss/crossentropy.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.mse" href="#Merlin.mse"><code>Merlin.mse</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">mse(x1, x2)</code></pre><p>Mean Squared Error function between <code>x1</code> and <code>x2</code>. The mean is calculated over the minibatch. Note that the error is not scaled by 1/2.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/loss/mse.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.softmax_crossentropy" href="#Merlin.softmax_crossentropy"><code>Merlin.softmax_crossentropy</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">softmax_crossentropy(p, x)</code></pre><p>Cross-entropy function between p and <span>$softmax(x)$</span>.</p><div>\[f(x) = -\sum_{x} p(x) \log q(x)\]</div><p>where <span>$q = softmax(x)$</span></p><ul><li><p>p: Var of Vector{Int} or Matrix{Float}</p></li><li><p>q: Var of Matrix{Float}</p></li></ul><pre><code class="language-julia">p = Var(rand(0:10,5))
q = Var(rand(Float32,10,5))
y = softmax_crossentropy(p, x)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/loss/softmax_crossentropy.jl#L3">source</a></section><h2><a class="nav-anchor" id="Math-1" href="#Math-1">Math</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.broadcast" href="#Base.broadcast"><code>Base.broadcast</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">.+(x1::Var, x2::Var)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L141-L143">source</a><div><pre><code class="language-none">.-(x1::Var, x2::Var)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L164-L166">source</a><div><pre><code class="language-none">.*(x1::Var, x2::Var)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L195-L197">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:+" href="#Base.:+"><code>Base.:+</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">+(x1::Var, x2::Var)
+(a::Number, x::Var)
+(x::Var, a::Number)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L93-L97">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:-" href="#Base.:-"><code>Base.:-</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">-(x1, x2)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L115-L117">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:*" href="#Base.:*"><code>Base.:*</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">*(A::Var, B::Var)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L258-L260">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:/" href="#Base.:/"><code>Base.:/</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">/(x1::Var, a)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L280-L282">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.:^" href="#Base.:^"><code>Base.:^</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">^(x::Var, a::Number)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L298-L300">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.transpose" href="#Base.transpose"><code>Base.transpose</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">transpose(x)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/math.jl#L68-L70">source</a></section><h2><a class="nav-anchor" id="Random-1" href="#Random-1">Random</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.dropout" href="#Merlin.dropout"><code>Merlin.dropout</code></a> â€” <span class="docstring-category">Function</span>.</div><div><pre><code class="language-none">dropout(x::Var, rate::Float64)</code></pre><p>If config.train is true, drops elements randomly with probability <span>$rate$</span> and scales the other elements by factor <span>$1 / (1 - rate)$</span>. Otherwise, it just returns x.</p></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/random/dropout.jl#L3">source</a></section><h2><a class="nav-anchor" id="Recurrent-1" href="#Recurrent-1">Recurrent</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.BiLSTM" href="#Merlin.BiLSTM"><code>Merlin.BiLSTM</code></a> â€” <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">BiLSTM(x)</code></pre><p>Bidirectional Long Short-Term Memory network.</p><p><strong>ðŸ‘‰ Example</strong></p><pre><code class="language-julia">x = Var(rand(Float32,10,5))</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/recurrent/bilstm.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Merlin.LSTM" href="#Merlin.LSTM"><code>Merlin.LSTM</code></a> â€” <span class="docstring-category">Type</span>.</div><div><pre><code class="language-none">LSTM(::Type{T}, insize::Int, outsize::Int, [init_W=Uniform(0.001), init_U=Orthogonal()])</code></pre><p>Long Short-Term Memory network.</p><pre><code class="language-julia">T = Float32
f = LSTM(T, 100, 100)
h = f(x)</code></pre></div><a class="source-link" target="_blank" href="https://github.com/hshindo/Merlin.jl/blob/2651194e6cee7c72f873d5c10b18de58b9e84791/src/functions/recurrent/lstm.jl#L3">source</a></section><h2><a class="nav-anchor" id="Reduction-1" href="#Reduction-1">Reduction</a></h2><pre><code class="language-none">max
max_batch</code></pre><pre><code class="language-none">gemm
gemv
concat
getindex
Linear
logsoftmax
lookup
reshape
softmax
standardize
window1d</code></pre><footer><hr/><a class="previous" href="var.html"><span class="direction">Previous</span><span class="title">Var</span></a><a class="next" href="graph.html"><span class="direction">Next</span><span class="title">Graph</span></a></footer></article></body></html>
